CREATE TABLE [dbo].[Role] (
    [ID] [uniqueidentifier] NOT NULL DEFAULT newsequentialid(),
    [Name] [nvarchar](50) NOT NULL,
    CONSTRAINT [PK_dbo.Role] PRIMARY KEY ([ID])
)
CREATE TABLE [dbo].[UserRole] (
    [ID] [uniqueidentifier] NOT NULL DEFAULT newsequentialid(),
    [UserId] [uniqueidentifier] NOT NULL,
    [RoleId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.UserRole] PRIMARY KEY ([ID])
)
CREATE TABLE [dbo].[User] (
    [ID] [uniqueidentifier] NOT NULL DEFAULT newsequentialid(),
    [Username] [nvarchar](max),
    [Email] [nvarchar](max),
    [HashedPassword] [nvarchar](max),
    [Salt] [nvarchar](max),
    [IsLocked] [bit] NOT NULL,
    [DateCreated] [datetime] NOT NULL,
    [DateNasc] [datetime] NOT NULL,
    [CPF] [nvarchar](max),
    [RG] [nvarchar](max),
    [Naturalidade] [nvarchar](max),
    [Tipo] [int],
    [CRA] [nvarchar](max),
    [Tipo1] [int],
    [CRM] [nvarchar](15),
    [Discriminator] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.User] PRIMARY KEY ([ID])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserRole]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[UserRole]([RoleId])
ALTER TABLE [dbo].[UserRole] ADD CONSTRAINT [FK_dbo.UserRole_dbo.Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Role] ([ID]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserRole] ADD CONSTRAINT [FK_dbo.UserRole_dbo.User_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[User] ([ID]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201710161620587_AutomaticMigration', N'Generic.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8A91DD2284E51A00BEC16A97399B13A0EE2B4D85BC048B44D94A25491CA1C0CFB657BD84FDA5FD8A1AE1475B1E45BD2A21850C424CFC7C373D3E139DC7FFFFCDB7FBF74A9F180034E3C36307B8747A68199ED3984CD07662866AFDE9AEFDFFDFC53FFDC7197C6E774DD6BB90E28191F980B21FC13CBE2F602BB881FBAC40E3CEECDC4A1EDB916723CEBF8E8E857ABD7B3304098806518FD9B9009E2E2E807FC1C7ACCC6BE08111D7B0EA63C19879969846A5C2117731FD978605E628603621F9E21814CE39412043C4C319D990662CC13480087279F389E8AC063F3A90F0388DE3EFA18D6CD10E538E1FC245FDEF61047C7F210564E9842D921179EDB11B0F73A918AA593AF255B33931AC8ED1CE42B1EE5A923D90DCC1B8FC2C1F58D4E8634908B72B1468404F343497060E8C307990D80A9C8FF0E8C61484518E001C3A108103D30AEC37B4AECDFF1E3ADF705B3010B29557903EE60AE300043D781E7E3403CDEE059C2F1E8CC34AC229DA51366640A4D729E9038A671057BA37B8A33CD2B479F0A2FC0D1F990C0CE35120207A0B8918323D99536D7B692FFA69B81A981BF98C6182D3F6236178B81F9061CE4822CB1930E240C7C6204BC0B684410E20A06D54DFB56AEC646E582B5079D159C12FD5072FD5652462367C576CD1052C45D21AED003994707A800338D1B4CA349BE207E1CFB3265DEC52B2E02CF957FE5A6114DDC4DBD30B0A5D97A55B3B7289863B1810D76B6BF1FB6D76C7BAC39C8C09FADA24CF346E72E2274E7BBFC86F8424A81F33FBDC0D9F9765344C5CE3719F18F9EFD0567A7F9E0811B21D63946402E83870196669242C9A15BE2AEFA4454635D216E6F0C34BCBED8B9006F2E77BEC51582E081287190B30357AA8DD46964E5B5E1FA4E59528CD7F94C65C056A6378AD8A76241B1C09D03B742B7BDF86D7C401C27DA492564362AF696F85EAAD01113AF8FBB5BF8CDE9962DA2B5ECCF3C1BBE0E9D459F937DEB921F3748BEF7666B823FE5DCB3492456CD31E34CA9C8E539738CC6B4A928A538D71A8390890F6285ED07E62FA5A3D781A6BEAB805601F64C3D9399B0332C1DD038B5E3BBE610C27D14DDF46C06B62E8E40F28303997E200A776E0E46419828674A84D9C447B4896D8DA865822599CAE0F59933EC632693A3261DB4D9374DB9CB7B675B68825A2597BEA518D26AFB52427B932D54C579CD0F77690CB5CC5458667B735FDBC4CAD2D8938D954FDE66E3F46AB807238B431BD008A0C041C24012FFE5305E8A8ACF0870987C4978123275FD4BD829168ADB4CA5DEF3505A884BA5B856244FA5580D911B500B987A8812B922B2322BC96D585953795DD635B8EA3390B1AC1DBA640AAB42BF02540352B009986F797835B7AC3E7D5D886A13A4B4F3B7397B45746927C50601A4DFFCCC31F2B2B115D78DD3FAB2555360EE8F91EF43F6A1149C9311631A579B87AFA6DD8BB16E8C61D9BCA2269B719BED04191D9A636D16B6064E2F48C085AC74DF2399000D1DB7B44C0B0335CE956E56F4F4B2CE52974BD7CBBF0BE126AABB1F56B94D2EBC0B388F2B636C5401D18CBC4C1695F911454145AD65E8D1D065F5A1BE9E3AAECFAAF4F14819A16F697C97227A492EA54F6B51CCAD94A01AFDDA8AC8C26A7765D493EE4621E9075345A8FB88D6A3A4B99D8A5297EF3DA96ABBAA75C4E5DF93D98B927E5FAEA9DC7D2A9695BC2D1F6D8F945422559864A83D865E6754C1F4B9F6A8713951C58A47DA23E4B5C282A4B3D1F648856AA10A5698E88617570C75B078B43D5254325441A2810ECE7DA939F665B788AF56FA8A915F9DD97E98E812B1D5AADBF3F6EBB8CCA3D2C7231DEC4116D80AF620072AE9217F7148748DFE8C68A857270B8649B81D10973004B2796A6D2A75BC6F5199BD6EDA1CEBDA1CB7D5A65AEF7CB6CA7C5E6A2CC9F009A4D798FF94EE5FFA926CF7EC1EA6DDB7FAC9DD67F5AB9FD265285E621A20DD07E2C88BD0F4910BECC69A9C7EA5434AE0BCF98231626486B9882BDFE6F151EF587B3EF47C9EF2589C3BB4E2EEA8BFE729EA6A0F4DEF9091AF212651077B46A439AE6C7277EC0CA8CF6AD8030AEC050A4A0F6BB6FC6AE63B1463F1E14A79BF52B170C41CBC1C987F45F427C6E88FBB18E2C09804E03D27C691F1F7866F5FD6E22286E8C045B7072BDFA9EA598517BD70D1F2A58AD6F96DC84648D5EF3F368254DF786C04A4BFE3B827621B6F381CF821B6F186636D20E50DC74602CADF696C0453F516632340B5134D98E84AAE3C00D8988DDE467C8C1BBF79B221DE0D51CB0C9BB08FDFAE1951D7EDADC74D997DB6BDCB7D987D36376BEAB33BEB977F573DF2A76C89EFDB506AEE9F4F6B284FDEE72EF7C16A6AF08537D2353DECF8DA085FD47BF9DD88435EA7EE76636BBB0ABD53E3BBB6EB5D87BCE77EB82A81BCA3D7A6F15DD9EF7D7EDDEE129B7B395C874E76B962020EA7FCDF54E0EC9CCC7308594662D82EB85AB666C4665EEAF11A47E9122DAF186381201B45A7015C5F902D60DAC69C472FF89232D5B97B8F9D119B84C20F051C19BBF7B4F0D85D468EA6FDA3767D91E7FEC48F5ED06EE3089FA30454E009FB1012EA647C5F54643E35103224253736A94B216F6EF3C70CE9CA632D8112F16591F416BB3E05303E6153F480D7E10DCCEF239E23FB312D7CD583AC564451ECFD3382E60172798291D3C34FB061C75DBEFB1F5AFAF48454380000 , N'6.1.3-40302')

